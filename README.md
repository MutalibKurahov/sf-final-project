# Описание файлов в папке Query_results и рекомендации для запуска скрипта.
### Для установки необходимых библиотек и корректной работы Python скрипта, перед запуском выполнить команду `pip install -r requirements.txt` в командной строке.
<br>


## Группа 1: Исходные данные таблиц базы данных

Эти файлы содержат выгрузки исходных таблиц базы данных для изучения структуры и примеров данных.

- **users.csv** - Таблица пользователей (id, username, date_joined, email и др.)
- **userentry.csv** - Таблица входов пользователей на платформу (фиксируется первый вход в день)
- **coderun.csv** - Таблица запусков кода (когда пользователь нажимает "Выполнить" в задаче)
- **codesubmit.csv** - Таблица отправок решений (когда пользователь нажимает "Проверить", поле is_false указывает на правильность решения)
- **teststart.csv** - Таблица начала тестов (каждая попытка - отдельная запись)
- **transaction.csv** - Таблица всех транзакций (списания и начисления кодкоинов)
- **transactiontype.csv** - Справочник типов транзакций (описание списаний и начислений)

**Цель**: Изучение структуры данных, понимание формата и содержания таблиц перед написанием аналитических запросов.

---

## Группа 2: Результаты основных заданий (Задания 1-3)

Эти файлы содержат результаты выполнения основных SQL-запросов для анализа данных.

- **rolling_retention.csv** - Результаты расчета rolling retention по когортам (месяц регистрации) для периодов 0, 1, 3, 7, 14, 30, 60, 90 дней
  - Используется для: определения оптимальных сроков подписки (неделя/месяц/год)

- **balance_metrics.csv** - Метрики по балансу пользователей
  - Среднее списание/начисление кодкоинов на пользователя
  - Средний и медианный баланс
  - Используется для: определения стоимости подписки

- **activity_metrics.csv** - Метрики активности пользователей
  - Среднее количество решенных задач и пройденных тестов
  - Среднее количество попыток на задачу/тест
  - Доля активных пользователей
  - Статистика покупок материалов за кодкоины
  - Используется для: определения состава подписки (что включить в платный функционал)

---

## Группа 3: Результаты дополнительных метрик

Эти файлы содержат результаты дополнительных аналитических метрик, предложенных для более глубокого понимания пользователей.

- **user_segments.csv** - Сегментация пользователей по уровню активности
  - Power Users, Active Users, Casual Users, Inactive Users
  - Метрики по каждому сегменту (средние траты, активность, конверсия)
  - Используется для: определения целевой аудитории для подписки

- **purchase_conversion.csv** - Анализ конверсии в платящих пользователей
  - Время до первой покупки
  - Процент пользователей, которые когда-либо платили
  - Распределение покупок по времени (в первый день, неделю, месяц)
  - Используется для: определения оптимального момента предложения подписки

- **activity_frequency.csv** - Анализ частоты использования платформы
  - DAU/MAU ratio по месяцам
  - Частота активности пользователей
  - Используется для: определения оптимальных сроков подписки и понимания паттернов использования

---

## Группа 4: Данные для задания CTO (анализ времени активности)

Эти файлы используются для определения оптимального времени для релизов.

- **activity_times.csv** - Детальные данные об активности пользователей с разбивкой по времени
  - Время каждой активности (вход, запуск кода, отправка решения, начало теста)
  - День недели и час дня для каждой активности
  - Используется для: построения графиков распределения активности по дням недели и времени суток
  - **Назначение**: Определение наименее активных периодов для безопасного проведения релизов

---

## Итоговая структура использования

1. **Исходные данные** → Изучение структуры → Написание SQL-запросов
2. **Основные задания** → Анализ retention, баланса, активности → Рекомендации по тарифам
3. **Дополнительные метрики** → Глубокий анализ сегментов → Стратегия внедрения
4. **Данные CTO** → Визуализация активности → Оптимальное время релизов

Все файлы используются в файле `solution.md` для формирования выводов и рекомендаций по смене модели монетизации.

